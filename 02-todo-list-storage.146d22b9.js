!function(){var e=document.getElementById("myInput"),t=document.getElementById("addBtn"),n=document.getElementById("myUL"),i=0,o=[];function a(e){var t,a,d=document.createElement("li");d.textContent=e,d.setAttribute("id",i),n.append(d),i+=1,(a={}).text=(t=d).textContent,a.isDone=!1,a.ID=t.getAttribute("id"),o.push(a),c(),console.log(o),function(e){var t=document.createElement("span");t.textContent="Ã—",t.classList.add("close"),e.append(t)}(d)}function c(){var e=JSON.stringify(o);localStorage.setItem("tasks",e)}t.addEventListener("click",(function(){if(""===e.value)return void alert("Please, write a task !");a(e.value),e.value=""})),n.addEventListener("click",(function(e){var t=e.target;if("LI"===t.nodeName)return t.classList.toggle("checked"),void function(e){if(e.classList.contains("checked")){var t=e.getAttribute("id"),n=o.findIndex((function(e){return e.ID==t}));o[n].isDone=!0}if(!e.classList.contains("checked")){var i=e.getAttribute("id"),a=o.findIndex((function(e){return e.ID==i}));o[a].isDone=!1}c(),console.log(" dupa ce am scjimbat starea task-ul",o)}(t);if("SPAN"===t.nodeName){t.parentNode.remove(),i-=1,!function(e){var t=o.findIndex((function(t){return t.ID==e}));o.splice(t,1),console.log(" dupa ce am sters task-ul",o)}(t.parentNode.getAttribute("id")),function(){if(i>0){for(var e=n.querySelectorAll("li"),t=0;t<i;t++)e[t].setAttribute("id",t),o[t].ID=t;return void c()}0===i&&localStorage.removeItem("tasks")}()}})),window.addEventListener("DOMContentLoaded",(function(){JSON.parse(localStorage.getItem("tasks")).forEach((function(e){if(!0===e.isDone)return a(e.text),document.getElementById(e.ID).classList.add("checked"),o[e.ID].isDone=!0,void c();a(e.text)}))}))}();
//# sourceMappingURL=02-todo-list-storage.146d22b9.js.map
