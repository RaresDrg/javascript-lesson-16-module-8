!function(){var t=function(t,e){try{var n=JSON.stringify(e);localStorage.setItem(t,n)}catch(t){console.error(t)}},e=function(t){try{var e=localStorage.getItem(t);return null===e?void 0:JSON.parse(e)}catch(t){console.error(t)}},n=function(t){localStorage.removeItem(t)},o=document.getElementById("myInput"),i=document.getElementById("addBtn"),a=document.getElementById("myUL"),c=0,r=[];function s(e){var n,o,i=document.createElement("li");i.textContent=e,i.setAttribute("id",c),a.append(i),c+=1,(o={}).text=(n=i).textContent,o.isDone=!1,o.ID=n.getAttribute("id"),r.push(o),t("tasks",r),function(t){var e=document.createElement("span");e.textContent="Ã—",e.classList.add("close"),t.append(e)}(i)}i.addEventListener("click",(function(){var t=o.value.trim();""!==t?(s(t),o.value=""):alert("Please, fill the field")})),a.addEventListener("click",(function(e){var o=e.target;if("LI"===o.nodeName)return o.classList.toggle("checked"),void function(e){var n=e.getAttribute("id"),o=r.findIndex((function(t){return t.ID==n}));e.classList.contains("checked")&&(r[o].isDone=!0);e.classList.contains("checked")||(r[o].isDone=!1);t("tasks",r)}(o);"SPAN"===o.nodeName&&(o.parentNode.remove(),c-=1,function(t){var e=t.parentNode.getAttribute("id"),n=r.findIndex((function(t){return t.ID==e}));r.splice(n,1)}(o),function(){if(c>0){for(var e=a.querySelectorAll("li"),o=0;o<c;o++)e[o].setAttribute("id",o),r[o].ID=o;return void t("tasks",r)}0===c&&n("tasks")}())})),window.addEventListener("DOMContentLoaded",(function(){var n=e("tasks");n&&n.forEach((function(e){(s(e.text),!0===e.isDone)&&(document.getElementById(e.ID).classList.add("checked"),r[e.ID].isDone=!0,t("tasks",r))}))}))}();
//# sourceMappingURL=02-todo-list-storage.fed4cd6f.js.map
