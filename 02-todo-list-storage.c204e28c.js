const t=document.getElementById("myInput"),e=document.getElementById("addBtn"),n=document.getElementById("myUL");let o=0;const i=[];function s(t){const e=document.createElement("li");e.textContent=t,e.setAttribute("id",o),n.append(e),o+=1,function(t){const e={};e.text=t.textContent,e.isDone=!1,e.ID=t.getAttribute("id"),i.push(e),c(),console.log(i)}(e),function(t){const e=document.createElement("span");e.textContent="Ã—",e.classList.add("close"),t.append(e)}(e)}function c(){const t=JSON.stringify(i);localStorage.setItem("tasks",t)}e.addEventListener("click",(function(){if(""===t.value)return void alert("Please, write a task !");s(t.value),t.value=""})),n.addEventListener("click",(function({target:t}){if("LI"===t.nodeName)return t.classList.toggle("checked"),void function(t){if(t.classList.contains("checked")){const e=t.getAttribute("id"),n=i.findIndex((t=>t.ID==e));i[n].isDone=!0}if(!t.classList.contains("checked")){const e=t.getAttribute("id"),n=i.findIndex((t=>t.ID==e));i[n].isDone=!1}c(),console.log(" dupa ce am scjimbat starea task-ul",i)}(t);if("SPAN"===t.nodeName){t.parentNode.remove(),o-=1;!function(t){const e=i.findIndex((e=>e.ID==t));i.splice(e,1),console.log(" dupa ce am sters task-ul",i)}(t.parentNode.getAttribute("id")),function(){if(o>0){const t=n.querySelectorAll("li");for(let e=0;e<o;e++)t[e].setAttribute("id",e),i[e].ID=e;return void c()}0===o&&localStorage.removeItem("tasks")}()}})),window.addEventListener("DOMContentLoaded",(function(){JSON.parse(localStorage.getItem("tasks")).forEach((t=>{if(!0===t.isDone){s(t.text);return document.getElementById(t.ID).classList.add("checked"),i[t.ID].isDone=!0,void c()}s(t.text)}))}));
//# sourceMappingURL=02-todo-list-storage.c204e28c.js.map
